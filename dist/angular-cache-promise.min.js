var SpeedShifter;!function(a){!function(a){"use strict";a.CachePromiseProvider=function(){var a=this,b={},c={};this.$get=["$q","$cacheFactory",function(a,d){var e=function(b,c){var d=a.defer();return(c?d.reject:d.resolve).apply(this,b),d.promise},f=function(a,b){var c=$.Deferred();return(b?c.reject:c.resolve).apply(this,a),c.promise()};return function(a,g){if(c[a])return c[a];var h,i=c[a]={},j=d(a,g);return i.setOptions=function(a){h=angular.extend({},b,a),h.defResolver&&angular.isFunction(h.defResolver)||(h.defResolver=h.JQPromise?f:e)},i.setOptions(g),i.get=function(a,b){var c=j.get(a),d=(new Date).getTime();if(c&&c.promise)return c.promise;if(c){if((!b||d-c.time<b)&&(!h.timeout||d-c.time<h.timeout))return h.defResolver(c.data,c.failed);j.remove(a)}return void 0},i.set=function(a,b){var c={promise:b},d=function(){for(var b=[],d=0;d<arguments.length-0;d++)b[d]=arguments[d+0];c.data=b,c.time=(new Date).getTime(),delete c.promise,(h.dontSaveResult||0===h.timeout)&&j.remove(a)},e=h.saveFail?function(){for(var b=[],d=0;d<arguments.length-0;d++)b[d]=arguments[d+0];c.failed=!0,c.data=b,c.time=(new Date).getTime(),delete c.promise,(h.dontSaveResult||0===h.timeout)&&j.remove(a)}:function(){delete c.promise,j.remove(a)};return b.then(d,e),j.put(a,c),b},i.remove=function(a){j.remove(a)},i.removeAll=function(){j.removeAll()},i}}],a.setOptions=function(a){return b=angular.extend({},b,a)}};var b=angular.module("speedshifter.cachePromise",[]);b.provider("cachePromise",a.CachePromiseProvider)}(a.Services||(a.Services={}));a.Services}(SpeedShifter||(SpeedShifter={}));