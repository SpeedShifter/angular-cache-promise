var SpeedShifter;!function(a){!function(a){"use strict";a.CachePromiseProvider=function(){var a=this,b={capacity:null,timeout:null,saveFail:!1,defResolver:null,JQPromise:!1};this.$get=["$q","$cacheFactory",function(a,c){var d=function(){for(var b=[],c=0;c<arguments.length-0;c++)b[c]=arguments[c+0];var d=a.defer();return d.resolve.apply(this,b),d.promise},e=function(){for(var a=[],b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];var c=$.Deferred();return c.resolve.apply(this,a),c.promise()};return function(a,f){var g={},h=angular.extend({},b,f),i=c(a,f);return h.defResolver&&angular.isFunction(h.defResolver)||(h.defResolver=h.JQPromise?e:d),g.get=function(a,b){var c=i.get(a),d=(new Date).getTime();if(c&&c.promise)return c.promise;if(c){if((!b||d-c.time<b)&&(!h.timeout||d-c.time<h.timeout))return h.defResolver.apply(this,c.data);i.remove(a)}return void 0},g.set=function(a,b){var c={promise:b},d=function(){for(var a=[],b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];c.data=a,c.time=(new Date).getTime(),delete c.promise};return b.then(d,h.saveFail?d:function(){delete c.promise,i.remove(a)}),i.put(a,c),b},g.remove=function(a){i.remove(a)},g.removeAll=function(){i.removeAll()},g}}],a.setOptions=function(a){return b=angular.extend({},b,a)}};var b=angular.module("speedshifter.cachePromise",[]);b.provider("cachePromise",a.CachePromiseProvider)}(a.Services||(a.Services={}));a.Services}(SpeedShifter||(SpeedShifter={}));